{"ast":null,"code":"import React from'react';import{reduxForm}from'redux-form';import{Input,createField}from'../common/FormControls/FormsControls';import{required}from'../../Utilits/Validators/validators';import{connect}from'react-redux';import{login}from'../../redux/auth-reducer';import{Redirect}from'react-router-dom';import style from'./../common/FormControls/FormsControls.module.css';var LoginForm=function LoginForm(_ref){var handleSubmit=_ref.handleSubmit,error=_ref.error;return React.createElement(\"form\",{onSubmit:handleSubmit},createField('Email','email',[required],Input),createField('Password','password',[required],Input,{type:'password'}),createField(null,'rememberMe',[],Input,{type:\"checkbox\"},'remember me'),error&&React.createElement(\"div\",{className:style.formSummaryError},error),React.createElement(\"div\",null,React.createElement(\"button\",null,\"Login\")));};var LoginReduxForm=reduxForm({form:'login'})(LoginForm);var Login=function Login(props){var onSubmit=function onSubmit(formData){props.login(formData.email,formData.password,formData.rememberMe);};if(props.isAuth){return React.createElement(Redirect,{to:'/profile'});}return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Login\"),React.createElement(LoginReduxForm,{onSubmit:onSubmit}));};var mapStateToProps=function mapStateToProps(state){return{isAuth:state.auth.isAuth};};export default connect(mapStateToProps,{login:login})(Login);","map":{"version":3,"sources":["e:/Shty/Shtyrman2/src/components/Login/Login.jsx"],"names":["React","reduxForm","Input","createField","required","connect","login","Redirect","style","LoginForm","handleSubmit","error","type","formSummaryError","LoginReduxForm","form","Login","props","onSubmit","formData","email","password","rememberMe","isAuth","mapStateToProps","state","auth"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,SAAR,KAAwB,YAAxB,CACA,OAASC,KAAT,CAAgBC,WAAhB,KAAkC,sCAAlC,CACA,OAAQC,QAAR,KAAuB,qCAAvB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,KAAR,KAAoB,0BAApB,CACA,OAAQC,QAAR,KAAuB,kBAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,mDAAlB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAA2B,IAAzBC,CAAAA,YAAyB,MAAzBA,YAAyB,CAAXC,KAAW,MAAXA,KAAW,CACzC,MACQ,6BAAM,QAAQ,CAAID,YAAlB,EACSP,WAAW,CAAC,OAAD,CAAS,OAAT,CAAiB,CAACC,QAAD,CAAjB,CAA6BF,KAA7B,CADpB,CAESC,WAAW,CAAC,UAAD,CAAa,UAAb,CAAyB,CAACC,QAAD,CAAzB,CAAqCF,KAArC,CAA4C,CAACU,IAAI,CAAC,UAAN,CAA5C,CAFpB,CAGST,WAAW,CAAC,IAAD,CAAM,YAAN,CAAmB,EAAnB,CAAuBD,KAAvB,CAA8B,CAACU,IAAI,CAAC,UAAN,CAA9B,CAAiD,aAAjD,CAHpB,CAISD,KAAK,EAAI,2BAAK,SAAS,CAAEH,KAAK,CAACK,gBAAtB,EACTF,KADS,CAJlB,CAOI,+BACI,0CADJ,CAPJ,CADR,CAaH,CAdD,CAgBA,GAAMG,CAAAA,cAAc,CAAGb,SAAS,CAAC,CAACc,IAAI,CAAC,OAAN,CAAD,CAAT,CAA0BN,SAA1B,CAAvB,CAEA,GAAMO,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,CACrB,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,QAAD,CAAc,CAC3BF,KAAK,CAACX,KAAN,CAAYa,QAAQ,CAACC,KAArB,CAA4BD,QAAQ,CAACE,QAArC,CAA+CF,QAAQ,CAACG,UAAxD,EACH,CAFD,CAIA,GAAGL,KAAK,CAACM,MAAT,CAAgB,CACZ,MAAO,qBAAC,QAAD,EAAU,EAAE,CAAE,UAAd,EAAP,CACH,CAED,MAAO,gCACH,sCADG,CAEH,oBAAC,cAAD,EAAgB,QAAQ,CAAEL,QAA1B,EAFG,CAAP,CAIH,CAbD,CAeA,GAAMM,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAChCF,MAAM,CAACE,KAAK,CAACC,IAAN,CAAWH,MADc,CAAZ,EAAxB,CAIA,cAAelB,CAAAA,OAAO,CAACmB,eAAD,CAAkB,CAAClB,KAAK,CAALA,KAAD,CAAlB,CAAP,CAAkCU,KAAlC,CAAf","sourcesContent":["import React from 'react';\r\nimport {reduxForm} from 'redux-form';\r\nimport { Input, createField} from '../common/FormControls/FormsControls';\r\nimport {required} from '../../Utilits/Validators/validators';\r\nimport {connect} from 'react-redux';\r\nimport {login} from '../../redux/auth-reducer';\r\nimport {Redirect} from 'react-router-dom';\r\nimport style from './../common/FormControls/FormsControls.module.css';\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return  (\r\n            <form onSubmit = {handleSubmit}>\r\n                    {createField('Email','email',[required], Input)}\r\n                    {createField('Password', 'password', [required], Input, {type:'password'})}\r\n                    {createField(null,'rememberMe',[], Input, {type:\"checkbox\"}, 'remember me')}\r\n                    {error && <div className={style.formSummaryError}>\r\n                    {error}\r\n                </div>}\r\n                <div>\r\n                    <button>Login</button>\r\n                </div>\r\n            </form>\r\n           )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form:'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n\r\n    if(props.isAuth){\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth:state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);"]},"metadata":{},"sourceType":"module"}