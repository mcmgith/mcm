{"ast":null,"code":"import _classCallCheck from\"e:\\\\msmgith\\\\mcm\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"e:\\\\msmgith\\\\mcm\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"e:\\\\msmgith\\\\mcm\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"e:\\\\msmgith\\\\mcm\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"e:\\\\msmgith\\\\mcm\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import{connect}from'react-redux';import{follow,unfollow,setCurrentPage,toggleFollowingProgress,requestUsers}from'../../redux/users-reducer';import Users from'./Users';import Preloader from'../common/Preloader/preloader';import{compose}from'redux';import{getPageSize,getUsers,getTotalUsersCount,getCurrentPage,getIsFetching,getFollowingInProgress}from'../../redux/users-selectors';var UsersContainer=/*#__PURE__*/function(_React$Component){_inherits(UsersContainer,_React$Component);function UsersContainer(){var _getPrototypeOf2;var _this;_classCallCheck(this,UsersContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UsersContainer)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.onPageChanged=function(pageNumber){var pageSize=_this.props.pageSize;_this.props.getUsers(pageNumber,pageSize);};return _this;}_createClass(UsersContainer,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props=this.props,currentPage=_this$props.currentPage,pageSize=_this$props.pageSize;this.props.getUsers(currentPage,pageSize);}},{key:\"render\",value:function render(){// if (!this.props.isAuth) return <Redirect to={'/login'} />;\nreturn React.createElement(React.Fragment,null,this.props.isFetching?React.createElement(Preloader,null):null,React.createElement(Users,{totalItemsCount:this.props.totalItemsCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress}));}}]);return UsersContainer;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{users:getUsers(state),pageSize:getPageSize(state),totalItemsCount:getTotalUsersCount(state),currentPage:getCurrentPage(state),isFetching:getIsFetching(state),followingInProgress:getFollowingInProgress(state)};};export default compose(connect(mapStateToProps,{follow:follow,unfollow:unfollow,setCurrentPage:setCurrentPage,toggleFollowingProgress:toggleFollowingProgress,getUsers:requestUsers}))(UsersContainer);","map":{"version":3,"sources":["e:/msmgith/mcm/src/components/Users/UsersContainer.jsx"],"names":["React","connect","follow","unfollow","setCurrentPage","toggleFollowingProgress","requestUsers","Users","Preloader","compose","getPageSize","getUsers","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","onPageChanged","pageNumber","pageSize","props","currentPage","isFetching","totalItemsCount","users","followingInProgress","Component","mapStateToProps","state"],"mappings":"4gBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAASC,MAAT,CAAiBC,QAAjB,CAA2BC,cAA3B,CAA2CC,uBAA3C,CAAoEC,YAApE,KAAuF,2BAAvF,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,+BAAtB,CACA,OAASC,OAAT,KAAwB,OAAxB,CACA,OAASC,WAAT,CAAsBC,QAAtB,CAAgCC,kBAAhC,CAAoDC,cAApD,CAAoEC,aAApE,CAAmFC,sBAAnF,KAAgH,6BAAhH,C,GAIMC,CAAAA,c,2aAOFC,a,CAAgB,SAACC,UAAD,CAAgB,IACrBC,CAAAA,QADqB,CACT,MAAKC,KADI,CACrBD,QADqB,CAE5B,MAAKC,KAAL,CAAWT,QAAX,CAAoBO,UAApB,CAAgCC,QAAhC,EACH,C,uGARmB,iBACiB,KAAKC,KADtB,CACRC,WADQ,aACRA,WADQ,CACKF,QADL,aACKA,QADL,CAEhB,KAAKC,KAAL,CAAWT,QAAX,CAAoBU,WAApB,CAAiCF,QAAjC,EACH,C,uCAOQ,CACL;AACA,MAAO,yCACF,KAAKC,KAAL,CAAWE,UAAX,CAAwB,oBAAC,SAAD,MAAxB,CAAwC,IADtC,CAEH,oBAAC,KAAD,EAAO,eAAe,CAAE,KAAKF,KAAL,CAAWG,eAAnC,CACQ,QAAQ,CAAE,KAAKH,KAAL,CAAWD,QAD7B,CAEQ,WAAW,CAAE,KAAKC,KAAL,CAAWC,WAFhC,CAGQ,aAAa,CAAE,KAAKJ,aAH5B,CAIQ,KAAK,CAAE,KAAKG,KAAL,CAAWI,KAJ1B,CAKQ,QAAQ,CAAE,KAAKJ,KAAL,CAAWjB,QAL7B,CAMQ,MAAM,CAAE,KAAKiB,KAAL,CAAWlB,MAN3B,CAOQ,mBAAmB,CAAE,KAAKkB,KAAL,CAAWK,mBAPxC,EAFG,CAAP,CAYH,C,4BA1BwBzB,KAAK,CAAC0B,S,EA6BnC,GAAIC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAU,CAC5B,MAAM,CACFJ,KAAK,CAAEb,QAAQ,CAACiB,KAAD,CADb,CAEFT,QAAQ,CAAET,WAAW,CAACkB,KAAD,CAFnB,CAGFL,eAAe,CAAEX,kBAAkB,CAACgB,KAAD,CAHjC,CAIFP,WAAW,CAAER,cAAc,CAACe,KAAD,CAJzB,CAKFN,UAAU,CAAER,aAAa,CAACc,KAAD,CALvB,CAMFH,mBAAmB,CAAEV,sBAAsB,CAACa,KAAD,CANzC,CAAN,CAQH,CATD,CAYA,cAAenB,CAAAA,OAAO,CAClBR,OAAO,CAAC0B,eAAD,CACP,CAAIzB,MAAM,CAANA,MAAJ,CACIC,QAAQ,CAARA,QADJ,CAEIC,cAAc,CAAdA,cAFJ,CAGIC,uBAAuB,CAAvBA,uBAHJ,CAIIM,QAAQ,CAAEL,YAJd,CADO,CADW,CAAP,CAOPU,cAPO,CAAf","sourcesContent":["import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/preloader';\r\nimport { compose } from 'redux';\r\nimport { getPageSize, getUsers, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress} from '../../redux/users-selectors';\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const { currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        // if (!this.props.isAuth) return <Redirect to={'/login'} />;\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalItemsCount={this.props.totalItemsCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    onPageChanged={this.onPageChanged}\r\n                    users={this.props.users}\r\n                    unfollow={this.props.unfollow}\r\n                    follow={this.props.follow}\r\n                    followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) =>{\r\n    return{\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalItemsCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, \r\n    {   follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        toggleFollowingProgress,\r\n        getUsers: requestUsers\r\n    }))(UsersContainer)\r\n"]},"metadata":{},"sourceType":"module"}